#N canvas 0 22 1225 851 10;
#X obj 178 54 inlet~;
#X obj 178 75 *~;
#X obj 178 96 rfft~;
#X obj 178 117 cyclone/cartopol~;
#X obj 178 308 *~;
#X obj 175 705 delread4~ \$0-delay;
#X obj 326 705 delread4~ \$0-phase-delay;
#X obj 175 726 cyclone/poltocar~;
#X obj 175 747 rifft~;
#X obj 175 768 *~;
#X obj 175 789 outlet~;
#X obj 203 574 wrap~;
#X obj 175 536 *~ 13781;
#X obj 175 617 -~;
#X obj 175 679 /~ 44.1;
#X obj 68 32 block~ \$1 \$2;
#X text 794 24 ARGS \; 1- block size \; 2- overlap \; 3- max delay
time (ms);
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-amp 128 float 3;
#A 0 0.3125 0.399999 0.5 0.3 0.3 0.300005 0.825 0.325004 0.125 0.125
0.6125 0.4375 0.400001 0.125 0.162499 0.249998 0.249998 0.249998 0.8125
0.8125 0.249998 0.237498 0.237498 0.224998 0.224998 0.212499 0.212499
0.287501 0.262501 0.250001 0.225002 0.225002 0.225002 0.225002 0.225002
0.225002 0.225002 0.250001 0.262501 0.287501 0.475002 0.25001 0.7625
0.775 0.799999 0.824999 0.799999 0.7875 0.312509 0.225011 0.112512
0.100012 0.100012 0.100012 0.100012 0.100012 0.100012 0.187511 0.187511
0.187511 0.187511 0.200011 0.208344 0.216677 0.225011 0.24376 0.26251
0.27501 0.27501 0.28126 0.28751 0.300009 0.300009 0.300009 0.300009
0.300009 0.300009 0.28751 0.27501 0.225011 0.200011 0.150012 0.137512
0.125012 0.112512 0.100012 0.100012 0.100012 0.118762 0.150012 0.175011
0.187511 0.187511 0.187511 0.187511 0.625003 0.637503 0.650003 0.650003
0.700002 0.100012 0.0875126 0.062513 0.0500132 0.0500132 0.0500132
0.0500132 0.062513 0.0750128 0.100012 0.112512 0.125012 0.137512 0.162511
0.325 0.325 0.349999 0.349999 0.349999 0.349999 0.3375 0.275001 0.275001
0.275001 0.062513 0.0125149 0.0125149 0.0125149;
#X coords 0 1 128 0 400 80 1 0 0;
#X restore 510 135 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-delay 128 float 3;
#A 0 0.837499 0.800001 0.156252 0.925 0.300008 0.362507 0.475006 0.300008
0.237509 0.20001 0.16251 0.15001 0.15001 0.15001 0.16251 0.20001 0.262509
0.337508 0.387507 0.487505 0.250009 0.15001 0.125011 0.125011 0.775
0.125011 0.125011 0.125011 0.6625 0.7625 0.0875114 0.0875114 0.0875114
0.0875114 0.0875114 0.112511 0.15001 0.18751 0.300008 0.487505 0.15001
0.0750116 0.0750116 0.0625118 0.050012 0.050012 0.0625118 0.0875114
0.125011 0.15001 0.21251 0.300008 0.400007 0.20001 0.137511 0.125011
0.0875114 0.0750116 0.0625118 0.0625118 0.0625118 0.0625118 0.0875114
0.100011 0.125011 0.137511 0.16251 0.20001 0.287508 0.487505 0.537505
0.575004 0.337508 0.20001 0.125011 0.0875114 0.0875114 0.262509 0.375007
0.475006 0.575004 0.650003 0.712502 0.687502 0.525005 0.18751 0.137511
0.0875114 0.0250124 1.27554e-05 1.27554e-05 1.27554e-05 0.0125126 0.0250124
0.050012 0.0750116 0.0875114 0.100011 0.125011 0.16251 0.287508 0.400007
0.550004 0.600004 0.500005 0.387507 0.262509 0.18751 0.125011 0.0625118
0.050012 0.050012 0.050012 0.050012 0.050012 0.050012 0.0750116 0.112511
0.137511 0.16251 0.17501 0.16251 0.125011 0.0875114 0.0625118 0.050012
0.050012 0.112511;
#X coords 0 1 128 0 400 80 1 0 0;
#X restore 510 235 graph;
#X obj 178 329 delwrite~ \$0-delay \$3;
#X obj 277 139 delwrite~ \$0-phase-delay \$3;
#X obj 563 362 loadbang;
#X msg 673 424 fill 1 \, apply hanning;
#X obj 673 457 cyclone/buffer~ \$0-win @samps \$1;
#X obj 240 54 tabreceive~ \$0-win;
#X obj 259 764 tabreceive~ \$0-win;
#X obj 193 188 tabreceive~ \$0-amp;
#X obj 175 455 tabreceive~ \$0-delay;
#X obj 592 534 array size \$0-amp;
#X obj 592 423 f \$1;
#X obj 592 444 / 2;
#X obj 612 504 array size \$0-delay;
#X obj 382 521 pack \$1 \$2 \$3;
#X obj 457 442 samplerate~;
#X obj 383 408 t b b;
#X obj 457 463 / 1000;
#X obj 382 542 expr $f3 / $f2 * $f4 / \$1;
#X floatatom 382 563 5 0 0 0 - - -, f 5;
#X text 419 562 conversion factor of delay time in ms to blocks;
#X obj 383 367 r pd-dsp-started;
#X text 202 616 delay time in integer blocks;
#X obj 175 648 *~ \$1;
#X text 218 648 delay time in samples;
#X text 233 680 delay time in ms;
#X obj 394 20 inlet;
#X obj 175 496 *~ 1;
#X obj 394 62 s \$0-timescale;
#X obj 394 41 route timescale lengthscale;
#X obj 196 474 r \$0-timescale;
#X obj 494 62 s \$0-lengthscale;
#X obj 296 220 r \$0-lengthscale;
#X obj 400 250 array max \$0-amp;
#X obj 193 277 expr~ pow($v1 \, $f2) / pow($f3 \, $f2);
#X obj 400 207 bang~;
#X obj 931 393 f \$0;
#X obj 931 353 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 931 414 \; \$1-amp const 1 \; \$1-lengthscale 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 3 1 20 0;
#X connect 4 0 19 0;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 11 0 13 1;
#X connect 12 0 11 0;
#X connect 12 0 13 0;
#X connect 13 0 41 0;
#X connect 14 0 5 0;
#X connect 14 0 6 0;
#X connect 21 0 22 0;
#X connect 21 0 29 0;
#X connect 21 0 34 0;
#X connect 21 0 54 0;
#X connect 22 0 23 0;
#X connect 24 0 1 1;
#X connect 25 0 9 1;
#X connect 26 0 52 0;
#X connect 27 0 45 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 30 0 31 0;
#X connect 32 0 36 0;
#X connect 33 0 35 0;
#X connect 34 0 32 0;
#X connect 34 1 33 0;
#X connect 35 0 36 3;
#X connect 36 0 37 0;
#X connect 37 0 12 1;
#X connect 39 0 34 0;
#X connect 41 0 14 0;
#X connect 44 0 47 0;
#X connect 45 0 12 0;
#X connect 47 0 46 0;
#X connect 47 1 49 0;
#X connect 48 0 45 1;
#X connect 50 0 52 1;
#X connect 51 0 52 2;
#X connect 52 0 4 1;
#X connect 53 0 51 0;
#X connect 54 0 56 0;
#X connect 55 0 54 0;
#X coords 0 -1 1 1 420 220 1 500 100;
